// ===============================================================
// Contenedor principal del FlowBuilder
// ===============================================================
.react-flow {
  background: #f7fafc;
}

// ===============================================================
// Empty State (cuando no hay nodos)
// ===============================================================
.empty-state {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  cursor: pointer;
  z-index: 5;
  transition: all 0.3s ease;
  pointer-events: all !important;

  &:hover {
    transform: translate(-50%, -50%) scale(1.05);

    .empty-box {
      border-color: #5e72e4;
      color: #5e72e4;
    }
  }

  .empty-box {
    width: 80px;
    height: 80px;
    border: 3px dashed #cbd5e0;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    color: #cbd5e0;
    margin: 0 auto 12px;
    transition: all 0.3s ease;
    pointer-events: all;
  }

  p {
    color: #a0aec0;
    font-size: 14px;
    font-weight: 500;
    pointer-events: none;
  }
}

// ===============================================================
// Toolbox vertical (botones en el lado derecho)
// ===============================================================
.toolbox-vertical {
  .tool-btn {
    width: 48px;
    height: 48px;
    background: #2c2c2c;
    border: 2px solid #3d3d3d;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    color: #ffffff;
    pointer-events: all !important;

    &:hover {
      background: #3d3d3d;
      border-color: #5e72e4;
      transform: translateX(-4px);
      box-shadow: 0 4px 12px rgba(94, 114, 228, 0.3);
    }

    &:active {
      transform: translateX(-2px);
    }

    svg {
      pointer-events: none;
    }

    // Botón especial para AI Magic (morado)
    &.tool-btn-magic {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-color: #764ba2;

      &:hover {
        transform: translateX(-4px) scale(1.05);
        box-shadow: 0 6px 16px rgba(118, 75, 162, 0.4);
      }
    }
  }
}

// ===============================================================
// Personalización de controles de React Flow
// ===============================================================
.react-flow__controls {
  button {
    background: white;
    border: 2px solid #e0e0e0;
    border-radius: 4px;
    transition: all 0.2s ease;

    &:hover {
      background: #f7fafc;
      border-color: #5e72e4;
    }
  }
}

// ===============================================================
// MiniMapa personalizado
// ===============================================================
.react-flow__minimap {
  background: white;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
}

// ===============================================================
// Handles cuando están conectando
// ===============================================================
.react-flow__handle-connecting {
  background: #4c5fd5 !important;
  transform: scale(1.3);
}

.react-flow__handle-valid {
  background: #48bb78 !important;
}

// ===============================================================
// Línea de conexión mientras se arrastra
// ===============================================================
.react-flow__connection-path {
  stroke: #5e72e4;
  stroke-width: 2;
  stroke-dasharray: 5;
  animation: dashdraw 0.5s linear infinite;
}

@keyframes dashdraw {
  to {
    stroke-dashoffset: -10;
  }
}